# –°–∏–≥–º–æ–∏–¥–∞ - AI Telegram Bot

Telegram –±–æ—Ç —Å AI-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –∏–≥—Ä, –ø–µ—Ä–µ–≤–æ–¥ –∏ —Å–∞–º–º–∞—Ä–∏–∑–∞—Ü–∏—è.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ü§ñ **AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç** - –æ—Ç–≤–µ—Ç—ã —á–µ—Ä–µ–∑ Gemini/OpenRouter/Pollinations
- üé® **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - —á–µ—Ä–µ–∑ Gemini –∏ Pollinations
- üéÆ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–≥—Ä** - —Å–æ–∑–¥–∞–Ω–∏–µ 2D/3D –∏–≥—Ä –Ω–∞ JavaScript
- üåç **–ü–µ—Ä–µ–≤–æ–¥—á–∏–∫** - –±—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ 9 —è–∑—ã–∫–æ–≤
- üìù **–°–∞–º–º–∞—Ä–∏–∑–∞—Ü–∏—è** - –∫—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤ –∏ —Å—Ç–∞—Ç–µ–π
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - rate limiting, –≤–∞–ª–∏–¥–∞—Ü–∏—è, –∑–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫

## –î–µ–ø–ª–æ–π –Ω–∞ Render

1. –°–æ–∑–¥–∞–π Redis –Ω–∞ [Upstash](https://upstash.com/) –∏–ª–∏ [Redis Cloud](https://redis.com/try-free/)
2. –°–æ–∑–¥–∞–π –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather)
3. –ü–æ–ª—É—á–∏ API –∫–ª—é—á–∏:
   - [Google AI Studio](https://aistudio.google.com/app/apikey) –¥–ª—è Gemini
   - [OpenRouter](https://openrouter.ai/) (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - [Pollinations](https://pollinations.ai/) (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

4. –§–æ—Ä–∫–Ω–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–æ–¥–∫–ª—é—á–∏ –∫ Render
5. –ù–∞—Å—Ç—Ä–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–º. `.env.example`)
6. –î–µ–ø–ª–æ–π!

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:**
- `TG_TOKEN` - —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
- `REDIS_URL` - URL Redis (–∏—Å–ø–æ–ª—å–∑—É–π `rediss://` –¥–ª—è SSL)
- `ADMIN_ID` - —Ç–≤–æ–π Telegram ID
- `FLASK_SECRET_KEY` - —Å–ª—É—á–∞–π–Ω—ã–π –∫–ª—é—á (–≥–µ–Ω–µ—Ä–∏—Ä—É–π —á–µ—Ä–µ–∑ `secrets.token_hex(32)`)
- `DOWNLOAD_KEY` - –∫–ª—é—á –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏
- `GEMINI_API_KEY_1` - Gemini API –∫–ª—é—á
- `WEBAPP_BASE_URL` - URL —Ç–≤–æ–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Render

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:**
- `GEMINI_API_KEY_2` - –≤—Ç–æ—Ä–æ–π –∫–ª—é—á –¥–ª—è —Ä–æ—Ç–∞—Ü–∏–∏
- `OPENROUTER_API_KEY` - –¥–ª—è OpenRouter –º–æ–¥–µ–ª–µ–π
- `POLLINATIONS_API_KEY` - –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## –ö–æ–º–∞–Ω–¥—ã

- `/tr [—è–∑—ã–∫] —Ç–µ–∫—Å—Ç` - –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç
- `/sum —Ç–µ–∫—Å—Ç/url` - –∫—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- `/draw –æ–ø–∏—Å–∞–Ω–∏–µ` - –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- `/game –∏–¥–µ—è` - —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–≥—Ä—É
- `/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- `/settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `/help` - –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö (GDPR/–§–ó-152)

‚úÖ **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ PII** - –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∏–º–µ–Ω–∞, username) —à–∏—Ñ—Ä—É—é—Ç—Å—è AES-256 (Fernet)  
‚úÖ **–ü—Å–µ–≤–¥–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è** - user_id —Ö—ç—à–∏—Ä—É—é—Ç—Å—è HMAC-SHA256, –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–µ–∑ —Å–æ–ª–∏  
‚úÖ **–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ  
‚úÖ **–ü—Ä–∞–≤–æ –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ** - –∫–æ–º–∞–Ω–¥–∞ `/delete_data` –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö  

### –ó–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫

‚úÖ Rate limiting (10 req/min, 100 req/hour)  
‚úÖ Login rate limiting (5 –ø–æ–ø—ã—Ç–æ–∫/–º–∏–Ω, 20/—á–∞—Å)  
‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö  
‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç timing attacks (constant-time comparison)  
‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç path traversal  
‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç code injection  
‚úÖ Secure cookies (HTTPONLY, SECURE, SAMESITE)  
‚úÖ Redis URL –≤–∞–ª–∏–¥–∞—Ü–∏—è  
‚úÖ Webhook secret token verification  

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

–î–ª—è –ø–æ–ª–Ω–æ–π –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö –¥–æ–±–∞–≤—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
# –°–æ–ª—å –¥–ª—è —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è ID
DATA_HASH_SALT=<64 —Å–∏–º–≤–æ–ª–∞ hex>

# –ö–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
DATA_ENCRYPTION_KEY=<Fernet –∫–ª—é—á –∏–ª–∏ –ø–∞—Ä–æ–ª—å>

```
‚ö†Ô∏è **–í–ê–ñ–ù–û:** –ë–µ–∑ —ç—Ç–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –±–µ–∑ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è. –ü—Ä–∏ –≤–∑–ª–æ–º–µ –ë–î –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –ø–æ–ª—É—á–∏—Ç –¥–æ—Å—Ç—É–ø –∫ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º –¥–∞–Ω–Ω—ã–º.

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –≤–∑–ª–æ–º–µ –ë–î

**–° —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º:**
- –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ —Ö—ç—à–∏
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ user_id, –∏–º–µ–Ω–∞, username
- –î–∞–Ω–Ω—ã–µ –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã –±–µ–∑ –∫–ª—é—á–µ–π —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

**–ë–µ–∑ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è:**
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ
- –†–∏—Å–∫ —à—Ç—Ä–∞—Ñ–æ–≤ –ø–æ GDPR/–§–ó-152  

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π .env

# –ó–∞–ø—É—Å–∫
python -m app.main
```

## Disclaimer / –û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

‚ö†Ô∏è **–í–ê–ñ–ù–û:**

–≠—Ç–æ—Ç –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç AI-–º–æ–¥–µ–ª–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Ç–µ–∫—Å—Ç, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∏–≥—Ä—ã). –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ **–ù–ï –ù–ï–°–ï–¢ –û–¢–í–ï–¢–°–¢–í–ï–ù–ù–û–°–¢–ò** –∑–∞:

- –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –¢–æ—á–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏ —Å–∞–º–º–∞—Ä–∏–∑–∞—Ü–∏–π
- –†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–≥—Ä
- –õ—é–±—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–æ—Ç–∞

–ò—Å–ø–æ–ª—å–∑—É—è —ç—Ç–æ—Ç –±–æ—Ç, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å —Ç–µ–º, —á—Ç–æ:
- –í–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è AI –∏ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—à–∏–±–∫–∏
- –í—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –±–æ—Ç–∞ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫
- –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∏ –Ω–µ –º–æ–¥–µ—Ä–∏—Ä—É–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
- –í—ã –Ω–µ—Å–µ—Ç–µ –ø–æ–ª–Ω—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫ –∏–∑–º–µ–Ω—ë–Ω–Ω–∞—è
